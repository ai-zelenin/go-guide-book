# DI(инъекция зависимостей)

Это паттерн проектирования который является частным случаем IoC(инверсии контроля) и предполагает передачу выполнения
какой-то функции на внешнюю зависимость. Применяется для того что бы поддерживать принцип единой ответственности и
упрощать последующую модификацию компонентов. Допустим у нас есть объект, который умеет делать что полезное(в примере
печатать что-то с интервалом по времени). Что бы его переиспользовать, нам нужно отделить ту часть которая будет
делегироваться во вне(в пример это получения данных). В рамках паттерна DI очень удобно пользовался абстракциями(
интерфейсами), это позволяет потом переиспользовать написанные компоненты с другими зависимостями, допустим в unit
тестировании мы можем прокидывать в качестве зависимостей моки или подменять имплементации DAO объектов. В случае если
объекты внешних зависимостей могут быть изменены в процессе использования то в качестве зависимости можно прокидывать
фабрику, которая будет создавать интересующие нас объекты.

[Правильная инъекция зависимости](../../example/di/exmaple_di.go)

В итоге наш объект будет делать только одно дело, а решение о том что именно он будет печатать будет делегированное
наружу.

[Неправильная инъекция зависимости](../../example/di/exmaple_di1.go)

Если мы просто создаем объекты там где они нам понадобились не прокидывая их в конструктор, то тем самым скрываем факт
наличия зависимости у объекта и если в качестве зависимости используется абстракция, то еще не позволяем изменить ее
имплементацию при создании.

[Неправильная инъекция зависимости](../../example/di/exmaple_di2.go)

Глобальные переменные не являются правильной реализацией паттерна DI, так как ограничивают использование разных
имплементаций для разных объектов использующих данную зависимость.